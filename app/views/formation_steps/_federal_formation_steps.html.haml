%table.table.table-hover.master-detail
  %tr.texto-verde
    %th.col-sm-4= t('.name')
    %th.col-sm-6= t('.description')
    %th.col-sm-2= t('.path')

    - @formation_steps.each_with_index do |formation, index|
      - if formation.type_formation_step == @tipo
        %tr
          .col-sm-4
            - if user_signed_in?
              %td{ 'ng-init'=> "procedures.items[#{formation.id}] = #{UserFormationStep.exists?(user: current_user, formation_step: formation)}"}
                %label{ style: 'font-weight: 400;' }
                  %input{ type: 'checkbox', 'ng-model'=> "procedures.items[#{formation.id}]", 'ng-click'=> "procedures.update({ 'done': procedures.items[#{formation.id}], 'user_id': #{current_user.id}, 'formation_step_id': #{formation.id}, 'line_id': #{@line}, type_user_formation_step: \'#{@tipo}\', 'path': \'#{user_formation_steps_path}\'})"} &nbsp;
                  = formation.name
            - else
              -# let's redirect the user to the login page
              %td
                %label{ style: 'font-weight: 400;' }
                  %input{ type: 'checkbox', 'ng-click'=> "procedures.redirect(\'#{new_user_path}\')"} &nbsp;
                  = formation.name
          %td.col-sm-6= formation.description
          %td.col-sm-2= link_to t('.obtener_aqu√≠'), formation.path
